!function(t){var e={};function s(i){if(e[i])return e[i].exports;var l=e[i]={i:i,l:!1,exports:{}};return t[i].call(l.exports,l,l.exports,s),l.l=!0,l.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)s.d(i,l,function(e){return t[e]}.bind(null,l));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);var i=class{constructor(t,e,s){this.pos=t,this.vel=e,this.radius=s}move(t){let e=this.vel.x*t,s=this.vel.y*t;this.pos.x=this.pos.x+e,this.pos.y=this.pos.y+s}};const l=()=>{let t="#";for(let e=0;e<3;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t};var n=class{constructor(t,e,s,i,n){this.pos=t,this.width=e,this.height=s,this.color=l(),this.type=i,this.powerUp=n}draw(t){t.save(),t.fillStyle=this.color,t.fillRect(this.pos.x,this.pos.y,this.width,this.height),t.restore()}collidesWith(t){t instanceof r&&t.bounce()}};const o=20,a=()=>{let t="#";for(let e=0;e<3;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t};var r=class extends i{constructor(t){super(t,{x:0,y:0},o),this.color=a(),this.dir={x:0,y:0},this.spinSpeed=60*Math.random()+30,this.initialFlag=!1}draw(t){let e=Math.atan(this.dir.y/this.dir.x);t.save(),t.translate(this.pos.x,this.pos.y),t.rotate(e),t.translate(-this.pos.x,-this.pos.y),t.fillStyle=this.color,t.beginPath(),t.arc(this.pos.x,this.pos.y,this.radius,0,2*Math.PI,!0),t.fill(),t.restore()}collidesWith(t){return t instanceof u?(this.bounce(),!0):t instanceof n&&(this.bounce(),!0)}wallCollision(){return this.vel.x=-this.vel.x,!0}topWallCollision(){return this.vel.y=-this.vel.y,!0}bounce(){0!==this.dir.x&&0!==this.dir.y&&(this.dir.x=-this.dir.x,this.dir.y=-this.dir.y,this.vel.y=-this.vel.y)}initialRotation(){let t=Math.PI/180*90;this.dir.x=Math.cos(t),this.dir.y=Math.sin(t)}rotate(t){if(0!==this.dir.y){let i=-this.spinSpeed*(Math.PI/180)*t,l=[this.dir.x,this.dir.y];var e=Math.cos(i),s=Math.sin(i);this.dir.x=Math.round(1e4*(l[0]*e-l[1]*s))/1e4,this.dir.y=Math.round(1e4*(l[0]*s+l[1]*e))/1e4}}handleBallRelease(t,e){this.initialFlag||"space"===e?"space"===e&&0===this.dir.x&&0===this.dir.y&&(this.vel.x+=t[0],this.vel.y+=t[1],this.initialRotation()):(this.vel.x+=t[0],this.vel.y+=t[1])}move(t){super.move(t),this.rotate(t)}};const h=30,c=90,d=()=>{let t="#";for(let e=0;e<3;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t};var u=class extends i{constructor(t){super(t,{x:0,y:0}),this.color=d(),this.width=c,this.height=h}setKeyInputs(t,e){this.vel.x+=t[0],this.vel.y+=t[1]}draw(t){t.save(),t.fillStyle=this.color,t.fillRect(this.pos.x,this.pos.y,this.width,this.height),t.restore()}collidesWith(t){t instanceof r&&t.bounce()}wallCollision(){return this.vel.x=-this.vel.x,!0}};const y=600,m=920,p={x:400,y:540},f={x:445,y:500},b=3,v=50,g=50,x=72;var w=class{constructor(t){this.lives=b,this.player=new u(Object.assign({},p)),this.ctx=t,this.blocks=[],this.ball=new r(Object.assign({},f)),this.height=y,this.width=m,this.themeColor=["#bdae57"],this.numBlocks=x,this.addBlocks(this.numBlocks)}addBlocks(t){let e=10,s=10,i=0;for(;i<t;)this.blocks.length||(this.blocks.push(new n({x:e,y:s},g,v)),i+=1),(e+=g)>890&&(e=10,s=s+=v),this.blocks.push(new n({x:e,y:s},g,v)),i+=1;return this.blocks}allCurObjects(){return[].concat([this.player],[this.ball],this.blocks)}allCurMovingObjs(){return[].concat([this.player],[this.ball])}draw(){this.ctx.clearRect(0,0,this.width,this.height),this.ctx.fillStyle=this.themeColor[0],this.ctx.fillRect(0,0,this.width,this.height),this.ctx.font="30px Sans-Serif",this.ctx.fillStyle="#8a891f",this.lives>1?this.ctx.fillText(`${this.lives} Lives Left`,750,580):this.ctx.fillText(`${this.lives} Life Left`,750,580),this.allCurObjects().forEach(t=>{t.draw(this.ctx)})}moveObjects(t){this.allCurMovingObjs().forEach(e=>{e.move(t),e instanceof r&&this.isOutOfBounds(e.pos.y)&&this.deathAnimation()})}singleMove(t){this.moveObjects(t),this.checkForCollisions(),this.checkForWallCollisions()}isOutOfBounds(t){return t>560}deathAnimation(){if(this.lives-=1,0===this.lives)return"Game Over!";this.player.pos=Object.assign({},p),this.player.vel={x:0,y:0},this.ball.pos=Object.assign({},f),this.ball.vel={x:0,y:0},this.ball.dir={x:0,y:0},this.ball.initialFlag=!1}checkForWallCollisions(){const t=this.allCurMovingObjs();for(let e=0;e<t.length;e++){const s=t[e];if(s instanceof u&&(s.pos.x<0||s.pos.x>920-s.width))return s.wallCollision();if(s instanceof r&&(s.pos.x<0+s.radius||s.pos.x>920-s.radius))return this.playBounceSound(),s.wallCollision();if(s instanceof r&&(s.pos.y<0+s.radius||s.pos.y>600-s.radius))return this.playBounceSound(),s.topWallCollision()}}isOver(){return 0===this.numBlocks||0===this.lives}isCollided(t,e){let s;t instanceof r&&(s=t,t=e,e=s);let i=Math.abs(e.pos.x-t.pos.x-t.width/2),l=Math.abs(e.pos.y-t.pos.y-t.height/2);if(i>t.width/2+e.radius)return!1;if(l>t.height/2+e.radius)return!1;if(i<=t.width/2)return!0;if(l<=t.height/2)return!0;let n=i-t.width/2,o=l-e.width/2;return n*n+o*o<=e.radius*e.radius}remove(t){if(!(t instanceof n))throw new Error("unknown type of object");this.numBlocks-=1,this.blocks.splice(this.blocks.indexOf(t),1)}checkForCollisions(){const t=this.allCurObjects();for(let e=0;e<t.length;e++)for(let s=e+1;s<t.length;s++){const i=t[e],l=t[s];i instanceof u&&l instanceof r?this.isCollided(i,l)&&(this.playBounceSound(),i.collidesWith(l)):i instanceof r&&l instanceof u?this.isCollided(i,l)&&(this.playBounceSound(),i.collidesWith(l)):i instanceof r&&l instanceof n&&this.isCollided(i,l)&&(this.playSound(),i.collidesWith(l),this.remove(l))}}playSound(){const t=document.getElementById("blockSound");t.currentTime=0,t.play()}playBounceSound(){const t=document.getElementById("anotherSound");t.currentTime=0,t.play()}};var k=class{constructor(t){this.game=t,this.input={a:[-45,0],d:[45,0],space:[0,-100]}}keyHandler(){document.addEventListener("keydown",t=>{this.handleKey(t,!0)}),document.addEventListener("keyup",t=>{this.handleKey(t,!1)})}handleKey(t,e){let s=this.input;if(this.game.ball.initialFlag)switch(t.keyCode){case 65:s.a!==e&&this.game.player.setKeyInputs(s.a,Object.keys(this.input)[0]);break;case 68:s.d!==e&&this.game.player.setKeyInputs(s.d,Object.keys(this.input)[1])}else switch(t.keyCode){case 65:s.a!==e&&(this.game.player.setKeyInputs(s.a,Object.keys(this.input)[0]),this.game.ball.handleBallRelease(s.a,Object.keys(this.input)[0]));break;case 68:s.d!==e&&(this.game.player.setKeyInputs(s.d,Object.keys(this.input)[0]),this.game.ball.handleBallRelease(s.d,Object.keys(this.input)[1]));break;case 32:s.space!==e&&(this.game.ball.initialFlag=!0,this.game.ball.handleBallRelease(s.space,Object.keys(this.input)[2]))}}start(){this.keyHandler(),this.lastTime=new Date,requestAnimationFrame(this.animate.bind(this))}animate(){if(this.game.isOver())this.game.ctx.clearRect(0,0,this.game.width,this.game.height),document.querySelector(".end-screen").classList.add("end");else{const t=(new Date-this.lastTime)/1e3;this.game.singleMove(t),this.game.draw(),this.lastTime=new Date,requestAnimationFrame(this.animate.bind(this))}}};document.addEventListener("DOMContentLoaded",()=>{document.getElementById("github").onclick=()=>{document.location.href="https://github.com/mwdeshaw"},document.getElementById("linkedin").onclick=()=>{document.location.href="https://www.linkedin.com/in/matthew-deshaw-b629a0ba/"};const t=document.getElementById("default"),e=document.getElementById("power-btn");e.onclick=()=>{t.setAttribute("class","active");const s=document.getElementById("start-screen");s.setAttribute("class","active");const i=document.getElementById("power-lt");i.setAttribute("class","active");const l=document.querySelector(".start-text"),n=document.querySelector(".instructions"),o=document.querySelector(".controls-list");l.classList.add("end");const a=document.getElementById("start-game");setTimeout(()=>{const t=document.getElementById("gameboySound");t.currentTime=0,t.play(),n.classList.add("end"),o.classList.add("end"),a.setAttribute("class","active")},3e3),a.onclick=()=>{s.removeAttribute("class"),n.classList.remove("end"),o.classList.remove("end"),l.classList.remove("end");const t=document.getElementById("board").getContext("2d"),e=new w(t);new k(e).start()},"active"===t.classList[0]&&(e.onclick=()=>{t.removeAttribute("class"),a.removeAttribute("class"),s.removeAttribute("class"),l.classList.remove("end"),n.classList.remove("end"),o.classList.remove("end"),i.removeAttribute("class")})}})}]);